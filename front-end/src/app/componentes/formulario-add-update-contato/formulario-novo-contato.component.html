<h2 mat-dialog-title>Adicionar novo contato</h2>
<mat-dialog-content>
  <form *ngIf="contatoForm !== undefined" [formGroup]="contatoForm">
    <mat-card class="formulario-personal-data" appearance="outlined">
      <mat-card-header>
        <mat-card-subtitle>Dados Pessoais</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field appearance="outline" class="formulario-nome">
          <mat-label>Nome completo:</mat-label>
          <input type="text" formControlName="nome" matInput />
          <mat-error *ngIf="contatoForm.get('nome')?.hasError('required')"
            >Nome é <strong>requerido</strong>.</mat-error
          >
        </mat-form-field>
        <mat-form-field appearance="outline" class="formulario-cpf">
          <mat-label>CPF:</mat-label>
          <input
            type="text"
            formControlName="cpf"
            matInput
            onkeypress="return event.charCode >= 48 && event.charCode <= 57"
            mask="000.000.000-00"
          />
          <mat-error *ngIf="contatoForm.get('cpf')?.hasError('required')"
            >CPF é <strong>requerido</strong>.</mat-error
          >
        </mat-form-field>
        <mat-form-field appearance="outline" class="formulario-telefone">
          <mat-label>Telefone:</mat-label>
          <input
            type="text"
            formControlName="telefone"
            matInput
            onkeypress="return event.charCode >= 48 && event.charCode <= 57"
            placeholder="(00) 90000-0000"
            mask="(00) 00000-0000||(00) 0000-0000"
          />
          <mat-error *ngIf="contatoForm.get('telefone')?.hasError('required')"
            >Telefone é <strong>requerido</strong>.</mat-error
          >
        </mat-form-field>
        <mat-form-field appearance="outline" class="formulario-email">
          <mat-label>Email:</mat-label>
          <input
            type="email"
            formControlName="email"
            matInput
            placeholder="Ex. abcde@email.com"
          />
          <mat-error *ngIf="contatoForm.get('email')?.hasError('required')"
            >Email é <strong>requerido</strong>.</mat-error
          >
          <mat-error *ngIf="contatoForm.get('email')?.hasError('email')"
            >Por favor, insira um email correto.
          </mat-error>
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <mat-card class="formulario-endereco" appearance="outlined">
      <div formGroupName="endereco">
        <mat-card-header>
          <mat-card-subtitle>Endereço</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field appearance="outline" class="formulario-cep">
            <mat-label>CEP:</mat-label>
            <input
              type="text"
              formControlName="cep"
              matInput
              onkeypress="return event.charCode >= 48 && event.charCode <= 57"
              placeholder="00000-000"
              mask="00000-000"
            />
            <mat-error
              *ngIf="
                contatoForm.get('endereco')?.get('cep')?.hasError('required')
              "
              >CEP é <strong>requerido</strong>.</mat-error
            >
          </mat-form-field>
          <div class="logradouro-numero-container">
            <mat-form-field appearance="outline" class="formulario-logradouro">
              <mat-label>Logradouro:</mat-label>
              <input type="text" formControlName="logradouro" matInput />
              <mat-error
                *ngIf="
                  contatoForm
                    .get('endereco')
                    ?.get('logradouro')
                    ?.hasError('required')
                "
                >Logradouro é <strong>requerido</strong>.</mat-error
              >
            </mat-form-field>

            <mat-form-field appearance="outline" class="formulario-numero">
              <mat-label>Número:</mat-label>
              <input type="number" formControlName="numero" matInput />
              <mat-error
                *ngIf="
                  contatoForm
                    .get('endereco')
                    ?.get('numero')
                    ?.hasError('required')
                "
                >Número é <strong>requerido</strong>.</mat-error
              >
            </mat-form-field>
            <mat-form-field appearance="outline" class="formulario-complemento">
              <mat-label>Complemento:</mat-label>
              <input type="text" formControlName="complemento" matInput />
            </mat-form-field>
          </div>

          <div class="bairro-cidade-estado-container">
            <mat-form-field appearance="outline" class="formulario-bairro">
              <mat-label>Bairro:</mat-label>
              <input type="text" formControlName="bairro" matInput />
              <mat-error
                *ngIf="
                  contatoForm
                    .get('endereco')
                    ?.get('bairro')
                    ?.hasError('required')
                "
                >Bairro é <strong>requerido</strong>.</mat-error
              >
            </mat-form-field>

            <mat-form-field appearance="outline" class="formulario-cidade">
              <mat-label>Cidade:</mat-label>
              <input type="text" formControlName="cidade" matInput />
              <mat-error
                *ngIf="
                  contatoForm
                    .get('endereco')
                    ?.get('cidade')
                    ?.hasError('required')
                "
                >Cidade é <strong>requerido</strong>.</mat-error
              >
            </mat-form-field>

            <mat-form-field appearance="outline" class="formulario-estado">
              <mat-label>Estado:</mat-label>
              <input type="text" formControlName="estado" matInput />
              <mat-error
                *ngIf="
                  contatoForm
                    .get('endereco')
                    ?.get('estado')
                    ?.hasError('required')
                "
                >Estado é <strong>requerido</strong>.</mat-error
              >
            </mat-form-field>
          </div>
        </mat-card-content>
      </div>
    </mat-card>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancelar</button>
  <button
    *ngIf="!contatoId"
    mat-button
    (click)="adicionarNovoContato()"
    cdkFocusInitial
    color="primary"
  >
    Adicionar
  </button>
  <button
    *ngIf="contatoId"
    mat-button
    (click)="editarContato()"
    cdkFocusInitial
    color="primary"
  >
    Editar
  </button>
</mat-dialog-actions>
